# ğŸ¨ WORKFLOW DIAGRAMS - Báº¢O HÃ€NH 2 TRÆ¯á»œNG Há»¢P

## ğŸ“Š Tá»”NG QUAN Há»† THá»NG

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          VEHICLE MODEL SYSTEM                            â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ VehicleModel â”‚â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  WarrantyCondition       â”‚                 â”‚
â”‚  â”‚              â”‚         â”‚  - coverage_years        â”‚                 â”‚
â”‚  â”‚ - code       â”‚         â”‚  - coverage_km           â”‚                 â”‚
â”‚  â”‚ - name       â”‚         â”‚  - conditions_text       â”‚                 â”‚
â”‚  â”‚ - brand      â”‚         â”‚  - battery_warranty      â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  - motor_warranty        â”‚                 â”‚
â”‚         â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚         â”‚                                                               â”‚
â”‚         â”‚ 1:N                                                           â”‚
â”‚         â†“                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      â”‚
â”‚  â”‚   Vehicle    â”‚                                                      â”‚
â”‚  â”‚              â”‚                                                      â”‚
â”‚  â”‚ - vin        â”‚                                                      â”‚
â”‚  â”‚ - model_id â”€â”€â”¼â”€â”€ Link to VehicleModel                              â”‚
â”‚  â”‚ - year       â”‚                                                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚
â”‚         â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ 1:N
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CLAIM PROCESSING                               â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚                    Claim                         â”‚                  â”‚
â”‚  â”‚                                                  â”‚                  â”‚
â”‚  â”‚  + claim_number                                  â”‚                  â”‚
â”‚  â”‚  + vehicle_id                                    â”‚                  â”‚
â”‚  â”‚  + status                                        â”‚                  â”‚
â”‚  â”‚  + warranty_acceptance_status  (ğŸ†• NEW)         â”‚                  â”‚
â”‚  â”‚  + warranty_eligibility_notes  (ğŸ†• NEW)         â”‚                  â”‚
â”‚  â”‚  + warranty_condition_checked_at (ğŸ†• NEW)       â”‚                  â”‚
â”‚  â”‚  + warranty_condition_checked_by (ğŸ†• NEW)       â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                           â†“                                             â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚              â”‚ ClaimDiagnosticRequest  â”‚                               â”‚
â”‚              â”‚                         â”‚                               â”‚
â”‚              â”‚ + diagnosticSummary     â”‚                               â”‚
â”‚              â”‚ + warrantyAcceptanceStatus (ğŸ†•)                         â”‚
â”‚              â”‚ + warrantyEligibilityNotes (ğŸ†•)                         â”‚
â”‚              â”‚ + partsUsed             â”‚                               â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                           â†“                                             â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚              â”‚   Decision Point       â”‚                                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                           â”‚                                             â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚           â†“                               â†“                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚    â”‚  ELIGIBLE   â”‚                â”‚ NOT_ELIGIBLE â”‚                    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                              â”‚
            â†“                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WARRANTY FLOW       â”‚      â”‚  NON-WARRANTY FLOW      â”‚
â”‚                       â”‚      â”‚                         â”‚
â”‚ Status:               â”‚      â”‚ Status:                 â”‚
â”‚ PENDING_EVM_APPROVAL  â”‚      â”‚ WAITING_FOR_CUSTOMER    â”‚
â”‚        â†“              â”‚      â”‚        â†“                â”‚
â”‚ EVM Staff reviews     â”‚      â”‚ SC Staff contacts       â”‚
â”‚        â†“              â”‚      â”‚ customer                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”      â”‚      â”‚        â†“                â”‚
â”‚ â†“             â†“       â”‚      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚APPROVED   REJECTED    â”‚      â”‚ â†“             â†“         â”‚
â”‚ â†“             â†“       â”‚      â”‚ACCEPTS    DECLINES      â”‚
â”‚EVM_APPROVED  ...      â”‚      â”‚ â†“             â†“         â”‚
â”‚ â†“                     â”‚      â”‚READY_FOR   CANCELLED    â”‚
â”‚Order EVM Parts        â”‚      â”‚REPAIR                   â”‚
â”‚ â†“                     â”‚      â”‚ â†“                       â”‚
â”‚WorkOrder (EVM)        â”‚      â”‚WorkOrder (ThirdParty)   â”‚
â”‚ â†“                     â”‚      â”‚ â†“                       â”‚
â”‚Repair                 â”‚      â”‚Repair                   â”‚
â”‚ â†“                     â”‚      â”‚ â†“                       â”‚
â”‚Complete               â”‚      â”‚Complete                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ LUá»’NG CHI TIáº¾T - CASE 1: WARRANTY ELIGIBLE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. CUSTOMER REPORTS ISSUE                                       â”‚
â”‚    â†“                                                             â”‚
â”‚    Customer contacts Service Center                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. SC STAFF CREATES CLAIM                                       â”‚
â”‚    â†“                                                             â”‚
â”‚    - Create claim (status: DRAFT)                               â”‚
â”‚    - Input: vehicle VIN, customer info, reported failure        â”‚
â”‚    - Assign to Technician                                       â”‚
â”‚    - Status â†’ OPEN / ASSIGNED                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. SC TECHNICIAN INSPECTS VEHICLE                               â”‚
â”‚    â†“                                                             â”‚
â”‚    - Physical inspection                                        â”‚
â”‚    - Run diagnostics                                            â”‚
â”‚    - Status â†’ IN_PROGRESS                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. TECHNICIAN CHECKS WARRANTY CONDITIONS                        â”‚
â”‚    â†“                                                             â”‚
â”‚    GET /api/vehicles/{vehicleId}/warranty-conditions            â”‚
â”‚    â†“                                                             â”‚
â”‚    Review:                                                      â”‚
â”‚    - Vehicle year vs warranty coverage_years                    â”‚
â”‚    - Vehicle mileage vs coverage_km                             â”‚
â”‚    - Service history if required                                â”‚
â”‚    - Exclusions                                                 â”‚
â”‚    â†“                                                             â”‚
â”‚    Decision: âœ… ELIGIBLE                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. TECHNICIAN UPDATES DIAGNOSTIC                                â”‚
â”‚    â†“                                                             â”‚
â”‚    PUT /api/claims/diagnostic                                   â”‚
â”‚    {                                                             â”‚
â”‚      "claimId": 123,                                            â”‚
â”‚      "diagnosticSummary": "Battery cell failure",               â”‚
â”‚      "warrantyAcceptanceStatus": "ELIGIBLE",                    â”‚
â”‚      "warrantyEligibilityNotes": "Within 3yr/100k warranty",    â”‚
â”‚      "warrantyCost": 5000.00                                    â”‚
â”‚    }                                                             â”‚
â”‚    â†“                                                             â”‚
â”‚    Backend: handleEligibleClaim()                               â”‚
â”‚    - claim.warrantyAcceptanceStatus = "ELIGIBLE"                â”‚
â”‚    - claim.status â†’ "PENDING_EVM_APPROVAL"                      â”‚
â”‚    - Notify EVM Staff                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. EVM STAFF REVIEWS CLAIM                                      â”‚
â”‚    â†“                                                             â”‚
â”‚    GET /api/evm/claims/pending                                  â”‚
â”‚    â†“                                                             â”‚
â”‚    Review:                                                      â”‚
â”‚    - Diagnostic report                                          â”‚
â”‚    - Warranty eligibility assessment                            â”‚
â”‚    - Cost estimate                                              â”‚
â”‚    â†“                                                             â”‚
â”‚    Decision: APPROVE                                            â”‚
â”‚    â†“                                                             â”‚
â”‚    POST /api/evm/claims/{id}/approve                            â”‚
â”‚    - claim.status â†’ "EVM_APPROVED"                              â”‚
â”‚    - claim.approvedBy = EVM Staff                               â”‚
â”‚    - claim.approvedAt = now                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. ORDER EVM PARTS (if needed)                                  â”‚
â”‚    â†“                                                             â”‚
â”‚    - Check EVM warehouse inventory                              â”‚
â”‚    - Reserve parts for claim                                    â”‚
â”‚    - Create shipment request if needed                          â”‚
â”‚    â†“                                                             â”‚
â”‚    claim.status â†’ "WAITING_FOR_PARTS" (if needed)               â”‚
â”‚    or "READY_FOR_REPAIR" (if parts available)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. SC TECHNICIAN CREATES WORK ORDER                             â”‚
â”‚    â†“                                                             â”‚
â”‚    POST /api/work-orders                                        â”‚
â”‚    {                                                             â”‚
â”‚      "claimId": 123,                                            â”‚
â”‚      "partsUsed": [                                             â”‚
â”‚        {                                                         â”‚
â”‚          "partId": 1,                                           â”‚
â”‚          "partSerialId": 5,  // EVM part serial                â”‚
â”‚          "quantity": 1,                                         â”‚
â”‚          "partSource": "EVM"                                    â”‚
â”‚        }                                                         â”‚
â”‚      ]                                                           â”‚
â”‚    }                                                             â”‚
â”‚    â†“                                                             â”‚
â”‚    claim.status â†’ "REPAIR_IN_PROGRESS"                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9. PERFORM REPAIR                                               â”‚
â”‚    â†“                                                             â”‚
â”‚    - Install EVM parts                                          â”‚
â”‚    - Update part serial status â†’ "installed"                    â”‚
â”‚    - Link serial to vehicle                                     â”‚
â”‚    â†“                                                             â”‚
â”‚    PUT /api/work-orders/{id}/complete                           â”‚
â”‚    - workOrder.status â†’ "COMPLETED"                             â”‚
â”‚    - claim.status â†’ "REPAIR_COMPLETED"                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 10. FINAL INSPECTION & HANDOVER                                 â”‚
â”‚    â†“                                                             â”‚
â”‚    claim.status â†’ "READY_FOR_HANDOVER"                          â”‚
â”‚    â†“                                                             â”‚
â”‚    Customer picks up vehicle                                    â”‚
â”‚    â†“                                                             â”‚
â”‚    claim.status â†’ "COMPLETED" â†’ "CLOSED"                        â”‚
â”‚    â†“                                                             â”‚
â”‚    ğŸ’° Cost: Covered by warranty (customer pays: $0)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ LUá»’NG CHI TIáº¾T - CASE 2: NOT ELIGIBLE (THIRD-PARTY)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1-3. SAME AS CASE 1                                             â”‚
â”‚     Customer reports â†’ SC creates claim â†’ Technician inspects   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. TECHNICIAN CHECKS WARRANTY CONDITIONS                        â”‚
â”‚    â†“                                                             â”‚
â”‚    GET /api/vehicles/{vehicleId}/warranty-conditions            â”‚
â”‚    â†“                                                             â”‚
â”‚    Review:                                                      â”‚
â”‚    - Vehicle year: 2020 (warranty expired 2023) âŒ              â”‚
â”‚    - OR mileage: 120,000 km (over 100,000 limit) âŒ             â”‚
â”‚    - OR no service history âŒ                                   â”‚
â”‚    â†“                                                             â”‚
â”‚    Decision: âŒ NOT ELIGIBLE                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. TECHNICIAN UPDATES DIAGNOSTIC                                â”‚
â”‚    â†“                                                             â”‚
â”‚    PUT /api/claims/diagnostic                                   â”‚
â”‚    {                                                             â”‚
â”‚      "claimId": 456,                                            â”‚
â”‚      "diagnosticSummary": "Battery cell failure",               â”‚
â”‚      "warrantyAcceptanceStatus": "NOT_ELIGIBLE",                â”‚
â”‚      "warrantyEligibilityNotes":                                â”‚
â”‚        "Warranty expired on 2023-01-01. Vehicle purchased       â”‚
â”‚         2020-01-01, now out of 3-year coverage period.",        â”‚
â”‚      "warrantyCost": null  // Not using warranty               â”‚
â”‚    }                                                             â”‚
â”‚    â†“                                                             â”‚
â”‚    Backend: handleNotEligibleClaim()                            â”‚
â”‚    - claim.warrantyAcceptanceStatus = "NOT_ELIGIBLE"            â”‚
â”‚    - claim.status â†’ "WAITING_FOR_CUSTOMER"                      â”‚
â”‚    - Notify SC Staff to contact customer                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. SC STAFF CONTACTS CUSTOMER                                   â”‚
â”‚    â†“                                                             â”‚
â”‚    Phone call / Email:                                          â”‚
â”‚    "Dear Customer,                                              â”‚
â”‚     Your vehicle is not covered under warranty because          â”‚
â”‚     [warranty expired / over mileage limit / etc].              â”‚
â”‚                                                                  â”‚
â”‚     We can repair using third-party parts.                      â”‚
â”‚     Estimated cost: $3,500                                      â”‚
â”‚                                                                  â”‚
â”‚     Do you want to proceed?"                                    â”‚
â”‚    â†“                                                             â”‚
â”‚    Customer response...                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â†“                          â†“
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  ACCEPTS    â”‚           â”‚  DECLINES    â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7A. CUSTOMER ACCEPTS        â”‚  â”‚ 7B. CUSTOMER DECLINES   â”‚
â”‚    â†“                        â”‚  â”‚    â†“                    â”‚
â”‚    POST /api/claims/{id}/   â”‚  â”‚    POST /api/claims/{id}/â”‚
â”‚         customer-decision   â”‚  â”‚         customer-decisionâ”‚
â”‚    {                        â”‚  â”‚    {                    â”‚
â”‚      "acceptsThirdParty     â”‚  â”‚      "acceptsThirdParty â”‚
â”‚       Repair": true,        â”‚  â”‚       Repair": false,   â”‚
â”‚      "notes": "Customer     â”‚  â”‚      "notes": "Too      â”‚
â”‚       agreed, will pay      â”‚  â”‚       expensive"        â”‚
â”‚       $3500"                â”‚  â”‚    }                    â”‚
â”‚    }                        â”‚  â”‚    â†“                    â”‚
â”‚    â†“                        â”‚  â”‚    claim.status â†’       â”‚
â”‚    claim.status â†’           â”‚  â”‚    "CANCELLED"          â”‚
â”‚    "READY_FOR_REPAIR"       â”‚  â”‚    â†“                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    END                  â”‚
              â†“                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. SC STAFF PREPARES THIRD-PARTY PARTS                          â”‚
â”‚    â†“                                                             â”‚
â”‚    Option A: Already in SC inventory                            â”‚
â”‚    GET /api/sc/third-party-parts                                â”‚
â”‚    â†“                                                             â”‚
â”‚    Option B: Need to purchase                                   â”‚
â”‚    POST /api/sc/third-party-parts                               â”‚
â”‚    {                                                             â”‚
â”‚      "partName": "Battery Pack (Third-party)",                  â”‚
â”‚      "supplierName": "ABC Battery Co.",                         â”‚
â”‚      "unitCost": 3500.00                                        â”‚
â”‚    }                                                             â”‚
â”‚    â†“                                                             â”‚
â”‚    POST /api/sc/third-party-parts/{partId}/serials              â”‚
â”‚    {                                                             â”‚
â”‚      "serialNumber": "TP-BAT-2024-001",                         â”‚
â”‚      "purchaseDate": "2024-11-05",                              â”‚
â”‚      "unitCost": 3500.00                                        â”‚
â”‚    }                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9. SC TECHNICIAN CREATES WORK ORDER                             â”‚
â”‚    â†“                                                             â”‚
â”‚    POST /api/work-orders                                        â”‚
â”‚    {                                                             â”‚
â”‚      "claimId": 456,                                            â”‚
â”‚      "partsUsed": [                                             â”‚
â”‚        {                                                         â”‚
â”‚          "thirdPartyPartSerialId": 10, // Third-party serial   â”‚
â”‚          "quantity": 1,                                         â”‚
â”‚          "partSource": "THIRD_PARTY"                            â”‚
â”‚        }                                                         â”‚
â”‚      ]                                                           â”‚
â”‚    }                                                             â”‚
â”‚    â†“                                                             â”‚
â”‚    claim.status â†’ "REPAIR_IN_PROGRESS"                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 10. PERFORM REPAIR                                              â”‚
â”‚    â†“                                                             â”‚
â”‚    - Install third-party parts                                  â”‚
â”‚    - Update third-party serial:                                 â”‚
â”‚      PUT /api/sc/third-party-parts/serials/{id}/install         â”‚
â”‚      {                                                           â”‚
â”‚        "vehicleId": 789                                         â”‚
â”‚      }                                                           â”‚
â”‚    - serial.status â†’ "installed"                                â”‚
â”‚    - serial.installedOnVehicle â†’ vehicle                        â”‚
â”‚    - serial.installedBy â†’ technician                            â”‚
â”‚    â†“                                                             â”‚
â”‚    PUT /api/work-orders/{id}/complete                           â”‚
â”‚    - workOrder.status â†’ "COMPLETED"                             â”‚
â”‚    - claim.status â†’ "REPAIR_COMPLETED"                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 11. FINAL INSPECTION & HANDOVER                                 â”‚
â”‚    â†“                                                             â”‚
â”‚    claim.status â†’ "READY_FOR_HANDOVER"                          â”‚
â”‚    â†“                                                             â”‚
â”‚    Customer pays $3,500 + labor                                 â”‚
â”‚    â†“                                                             â”‚
â”‚    Customer picks up vehicle                                    â”‚
â”‚    â†“                                                             â”‚
â”‚    claim.status â†’ "COMPLETED" â†’ "CLOSED"                        â”‚
â”‚    â†“                                                             â”‚
â”‚    ğŸ’° Cost: Customer paid (not warranty)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ DATABASE RELATIONSHIPS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VehicleModel   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ PK: id         â”‚
â”‚    code        â”‚
â”‚    name        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:1
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WarrantyCondition      â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ PK: id                 â”‚
â”‚ FK: vehicle_model_id   â”‚
â”‚    coverage_years      â”‚
â”‚    coverage_km         â”‚
â”‚    conditions_text     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Vehicle        â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ PK: id         â”‚
â”‚ FK: model_id   â”‚
â”‚    vin         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Claim                          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ PK: id                         â”‚
â”‚ FK: vehicle_id                 â”‚
â”‚     status_id                  â”‚
â”‚     warranty_acceptance_status â”‚  ğŸ†• NEW
â”‚     warranty_eligibility_notes â”‚  ğŸ†• NEW
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WorkOrder          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ PK: id             â”‚
â”‚ FK: claim_id       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WorkOrderPart            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ PK: id                   â”‚
â”‚ FK: work_order_id        â”‚
â”‚     part_serial_id       â”‚  â† EVM parts
â”‚     third_party_serial_idâ”‚  ğŸ†• Third-party parts
â”‚     part_source          â”‚  ğŸ†• 'EVM' / 'THIRD_PARTY'
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PartSerial  â”‚  â”‚ SCThirdPartyPartSerial   â”‚  ğŸ†• NEW
â”‚ (EVM)       â”‚  â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ DECISION MATRIX

### Khi nÃ o dÃ¹ng WARRANTY flow?
âœ… Vehicle trong thá»i gian báº£o hÃ nh (years & km)  
âœ… CÃ³ lá»‹ch sá»­ báº£o dÆ°á»¡ng Ä‘áº§y Ä‘á»§ (náº¿u yÃªu cáº§u)  
âœ… KhÃ´ng vi pháº¡m Ä‘iá»u khoáº£n loáº¡i trá»«  
âœ… Parts covered under warranty policy  

### Khi nÃ o dÃ¹ng THIRD-PARTY flow?
âŒ Warranty expired  
âŒ Over mileage limit  
âŒ Missing required service history  
âŒ Damage caused by customer misuse  
âŒ Non-covered parts  

---

## ğŸ“Š COMPARISON TABLE

| Aspect | WARRANTY Flow | THIRD-PARTY Flow |
|--------|---------------|------------------|
| **Approval** | Cáº§n EVM approval | Chá»‰ cáº§n customer decision |
| **Parts source** | EVM central warehouse | SC local inventory |
| **Cost to customer** | $0 (covered) | Full cost + labor |
| **Status flow** | PENDING_EVM_APPROVAL â†’ EVM_APPROVED | WAITING_FOR_CUSTOMER â†’ READY_FOR_REPAIR |
| **Tracking** | EVM monitors costs | SC manages own inventory |
| **Part serial** | PartSerial (EVM) | SCThirdPartyPartSerial |
| **Speed** | Slower (need EVM) | Faster (local decision) |

---

**TÃ i liá»‡u nÃ y giÃºp visualize toÃ n bá»™ quy trÃ¬nh**  
**Sá»­ dá»¥ng káº¿t há»£p vá»›i IMPLEMENTATION_ROADMAP.md Ä‘á»ƒ triá»ƒn khai**

